# 变更日志

本文档记录了esp_extractor库的所有重要变更。

## [0.2.0] - 2024-12-19

### 新增功能
- 🎯 **库模式**：将项目重构为可重用的Rust库
- 📝 **完整API文档**：添加了详细的文档和使用示例
- ⚡ **便捷函数**：提供了`extract_strings_from_file`和`apply_translations_to_file`等便捷API
- 🔧 **文件对比工具**：新增`--compare-files`功能，可对比两个ESP文件的结构差异
- 🎨 **特性分离**：CLI功能现在是可选特性，库可以独立使用

### 重大修复
- 🐛 **GRUP大小计算修复**：解决了GRUP头部大小计算错误导致的4字节差异问题
- 📦 **压缩记录处理**：完全重写了压缩记录的解析和重建逻辑
- 🔄 **翻译应用优化**：修复了翻译应用过程中的多个关键问题

### 技术改进
- 🚀 **代码优化**：大幅减少代码重复，提高可维护性
- 🧪 **测试完善**：添加了完整的单元测试和文档测试
- 📚 **示例程序**：提供了完整的使用示例

### 破坏性变更
- API接口重新设计，与0.1.0版本不兼容
- 命令行参数略有调整

## [0.1.0] - 2024-12-18

### 初始版本
- ✨ 基本的ESP/ESM/ESL文件解析功能
- 🔤 字符串提取功能
- 🌍 翻译应用功能
- 📊 文件统计信息
- 🐛 调试和重建工具

### 已知问题
- GRUP大小计算不准确
- 压缩记录处理不完善
- 缺少完整的错误处理 